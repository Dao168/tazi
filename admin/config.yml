# ----- Backend (เชื่อม GitHub) -----
backend:
  name: github              # ใช้ GitHub เป็น backend
  repo: Dao168/tazi          # ⚠️ เปลี่ยนเป็น username/repo ของคุณ
  branch: main               # branch ที่จะ commit ไฟล์

# ----- การ login -----
# ใช้ GitHub OAuth (ปลอดภัย + ใช้ง่าย)
# GitHub Pages รองรับโดยตรง

# ----- ที่เก็บไฟล์รูป -----
media_folder: "assets/uploads"   # ที่เก็บไฟล์รูปจริงใน repo
public_folder: "/assets/uploads" # path ที่หน้าเว็บเรียกใช้

# ----- เปิดโหมดแก้ไขบน GitHub UI -----
publish_mode: editorial_workflow   # มีสถานะ Draft / Review / Publish

# ================================
# Collections = ฟอร์มสำหรับ Admin
# ================================
collections:
  - name: "posts"                 # ชื่อภายในระบบ (ห้ามซ้ำ)
    label: "ข่าว / บทความ"        # ชื่อที่แสดงในหน้า Admin
    folder: "content/posts"       # ที่เก็บไฟล์เนื้อหา (.md)
    create: true                    # อนุญาตสร้างใหม่
    delete: true                    # อนุญาตลบ
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"  # รูปแบบชื่อไฟล์

    # ----- ฟิลด์ในฟอร์ม -----
    fields:
      - label: "หัวข้อ"
        name: "title"
        widget: "string"
        required: true

      - label: "คำอธิบายสั้น (SEO)"
        name: "description"
        widget: "text"
        required: false

      - label: "วันที่เผยแพร่"
        name: "date"
        widget: "datetime"

      - label: "หมวดหมู่"
        name: "category"
        widget: "select"
        options:
          - ข่าว
          - บทความ
          - ประกาศ

      - label: "รูปปก"
        name: "thumbnail"
        widget: "image"
        required: false

      - label: "เนื้อหา"
        name: "body"
        widget: "markdown"         # พิมพ์เหมือน Word

# ================================
# End of config.yml
# ================================
```yml
backend:
  name: github
  repo: Dao168/tazi   # ⚠️ เปลี่ยนให้ตรง repo ของคุณ
  branch: main

media_folder: "assets/uploads"
public_folder: "/assets/uploads"

collections:
  - name: "posts"
    label: "ข่าว / บทความ"
    folder: "content/posts"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    fields:
      - { label: "หัวข้อ", name: "title", widget: "string" }
      - { label: "วันที่", name: "date", widget: "datetime" }
      - { label: "รูปปก", name: "thumbnail", widget: "image", required: false }
      - { label: "เนื้อหา", name: "body", widget: "markdown" }
